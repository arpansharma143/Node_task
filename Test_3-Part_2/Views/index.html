<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <style>
    body {
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    form {
      height: 60vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
  </style>
  <body>
    <form id="form" enctype="multipart/form-data">
      <label for="firstName" value="">firstName</label>
      <input type="text" name="firstName" id="firstName" />
      <label for="lastName">lastName</label>
      <input type="text" name="lastName" id="lastName" />
      <label for="age">age</label>
      <input type="number" name="age" id="age" />
      <label for="gender">gender</label>
      <select name="gender" id="gender">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      <label for="city">city</label>
      <select name="city" id="city">
        <option value="Andhra Pradesh">Andhra Pradesh</option>
        <option value="Andaman and Nicobar Islands">
          Andaman and Nicobar Islands
        </option>
        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
        <option value="Assam">Assam</option>
        <option value="Bihar">Bihar</option>
        <option value="Chandigarh">Chandigarh</option>
        <option value="Chhattisgarh">Chhattisgarh</option>
        <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
        <option value="Daman and Diu">Daman and Diu</option>
        <option value="Delhi">Delhi</option>
        <option value="Lakshadweep">Lakshadweep</option>
        <option value="Puducherry">Puducherry</option>
        <option value="Goa">Goa</option>
        <option value="Gujarat">Gujarat</option>
        <option value="Haryana">Haryana</option>
        <option value="Himachal Pradesh">Himachal Pradesh</option>
        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
        <option value="Jharkhand">Jharkhand</option>
        <option value="Karnataka">Karnataka</option>
        <option value="Kerala">Kerala</option>
        <option value="Madhya Pradesh">Madhya Pradesh</option>
        <option value="Maharashtra">Maharashtra</option>
        <option value="Manipur">Manipur</option>
        <option value="Meghalaya">Meghalaya</option>
        <option value="Mizoram">Mizoram</option>
        <option value="Nagaland">Nagaland</option>
        <option value="Odisha">Odisha</option>
        <option value="Punjab">Punjab</option>
        <option value="Rajasthan">Rajasthan</option>
        <option value="Sikkim">Sikkim</option>
        <option value="Tamil Nadu">Tamil Nadu</option>
        <option value="Telangana">Telangana</option>
        <option value="Tripura">Tripura</option>
        <option value="Uttar Pradesh">Uttar Pradesh</option>
        <option value="Uttarakhand">Uttarakhand</option>
        <option value="West Bengal">West Bengal</option>
      </select>
      <label for="email">email</label>
      <input type="email" name="eMail" id="eMail" />
      <label for="avtar"></label>
      <input type="file" name="avtar" id="file" />
      <button type="submit" id="button">Save</button>
    </form>
    <script>
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const form = document.getElementById("form");
        const firstName = document.getElementById("firstName");
        const lastName = document.getElementById("lastName");
        const age = document.getElementById("age");

        const city = document.getElementById("city");
        const email = document.getElementById("eMail");
        const gender = document.getElementById("gender");
        const file = document.getElementById("file");
        const button = document.getElementById("button");

        let fd = new FormData();

        fd.append("firstName", firstName.value);
        fd.append("lastName", lastName.value);
        fd.append("age", age.value);
        fd.append("city", city.value);
        fd.append("gender", gender.value);
        fd.append("file", file.files[0]);
        fd.append("eMail", email.value);

        const res = await fetch("http://localhost:3000/savePost", {
          method: "POST",
          body: fd,
        });

        const data = await res.json();
        console.log(data);
        alert(data.msg);
      });
    </script>
  </body>
</html>
